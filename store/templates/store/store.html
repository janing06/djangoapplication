{% extends 'store/base.html'  %}

{% block content %}



<style>
    
input[type=file]::file-selector-button {
  background-color: #ff8800;
}

</style>

    <div class="container mt-5">
        <div class="row">
            <h1 style="margin-bottom: 3%; text-align: center;font-family: Georgia, 'Times New Roman', Times, serif;color: rgb(246, 246, 246);">Background Removal</h1>

            <div class="col-sm-4">
            </div>
            <div class="col-sm-4 text-center">
                
                <form action="#" method="POST" enctype="multipart/form-data">
                {% csrf_token %}

                    <input class="form-control" required type="file" id="fileInput" name="upload" accept="image/*">
                    <br>
                    <button class="mybutton btn btn-primary my-2 btn-lg" type="button">

                        <span id="btn-text">Remove Background</span>
                    </button>

                </form>
            </div>
            <div class="col-sm-4">
                
            </div>
        </div>
    
        
    </div>
    <script>
        const showSpinnerbtn = document.querySelector('.mybutton');
        const revealSpinner = document.querySelector('.loading');
        const buttonText = document.getElementById('btn-text')
        function spinner(){
            if( document.getElementById("fileInput").files.length == 0 ){
                
            }else{
                if (revealSpinner.classList.contains('hide')){
                    revealSpinner.classList.remove('hide');
                    setTimeout(function () { disableButton(); }, 0);
                    function disableButton() {
                        showSpinnerbtn.setAttribute("disabled", "true");
                        buttonText.innerHTML = "Removing.....";
                    }
                    
                    
                }   
            }
        }
        showSpinnerbtn.addEventListener('click',spinner);
    </script>


{% endblock %}